#include "as608.h"


uint8_t ps_wait_flag;
uint8_t as608_proc_falg;
uint8_t as608_proc_falg_old;
uint8_t as608_store_index=1;

/*从传感器上读入图像存于图像缓冲区*/
void PS_GetImage(void)
{
   u8 string[]={0xef,0x01,0xff,0xff,0xff,0xff,0x01,0x00,0x03,0x01,0x00,0x05};
   UART6_DMA_SendBuff(string,12);
}


void PS_GenChar(u8 buffer)
{
    u8 string[]={0xef,0x01,0xff,0xff,0xff,0xff,0x01,0x00,0x04,0x02,buffer,0x00,0x01+0x00+0x04+0x02+buffer};
    UART6_DMA_SendBuff(string,13);
}


void PS_RegModel(void)
{
    u8 string[]={0xef,0x01,0xff,0xff,0xff,0xff,0x01,0x00,0x03,0x05,0x00,0x09};
    UART6_DMA_SendBuff(string,12);
}

void PS_StoreChar(u8 addr)
{
    u8 string[]={0xef,0x01,0xff,0xff,0xff,0xff,0x01,0x00,0x06,0x06,0x02,0x00,addr,0x00,0x01+0x00+0x06+0x06+0x02+0x00+addr};
    UART6_DMA_SendBuff(string,15);

}

void PS_Search(void)
{
    u8 string[]={0xef,0x01,0xff,0xff,0xff,0xff,0x01,0x00,0x08,0x04,0x02,0x00,0x00,0x00,0xff,0x01,0x0e};
     UART6_DMA_SendBuff(string,17);

}

void PS_Empty(void)
{
    u8 string[]={0xef,0x01,0xff,0xff,0xff,0xff,0x01,0x00,0x03,0x0d,0x00,0x11};
    UART6_DMA_SendBuff(string,12);

}

/*初始化*/
void As608_Gpio_Init(void)
{
    GPIO_InitTypeDef  GPIO_InitStructure;
    RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE);
    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_1;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;

    GPIO_Init(GPIOA, &GPIO_InitStructure);
}

void as608_init(void)
{
    As608_Gpio_Init();
}

void as608_proc(void)
{





}
